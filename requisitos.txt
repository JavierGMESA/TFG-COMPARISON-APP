1. Posibilidad de generar instrucciones en un fichero "instructions.txt" y regenerarlas si lo desea el usuario.
2. El nº de instrucciones a generar serán unas 5001
3. Las instrucciones serán leer un bloque o escribir un bloque.
3.1. Si al intentar leer un bloque de cache ocurre un fallo de cache entonces se realizará un BusRd
3.2. Si al intentar escribir en un bloque de cache ocurre un fallo de cache entonces se realizará un BusRdX
3.3. Si al intentar escribir en un bloque de cache ocurre un acierto de cache entonces se hará un BusUpgr SOLO si el bloque no está en estado Exclusivo
3.4. Si ocurre un fallo de cache, hay que traerse un bloque de la memoria o de otra cache, y este bloque está sucio, se hace un BusWB y el BusRd o BusRdX se pone en cola
4. El orden de acceso al bus/cache se hace en el orden C1 -> C2 -> C3 -> C1 -> ...
5. La memoria tendrá tan solo 2 bloques (2 direcciones) y las cachés solo tendran un bloque (1 dirección).
6. El tamaño del bloque no importa pero digamos que son 4 bits para que la transferencia del bloque por el bus se haga en un solo ciclo.
7. Llevamos la cuenta del nº de aciertos de cache, nº de fallos de cache, ciclos utilizados y nº de accesos a memoria.
8. Acceder a cache, ya sea para leer o escribir, tomará 3 ciclos
9. El acceso a memoria principal tomará 40 ciclos (imaginamos una memoria con CL40)
10. Una instrucción BusRd donde el dato provenga de otra cache tomará en el mejor caso 11 ciclos
10.1. 3 ciclos para acceder a cache y comprobar que si está el bloque
10.2. 1 ciclo para transferir la operación BusRd al bus y que el resto de caches la reciban
10.3. 3 ciclos para que leer de la segunda cache el bloque solicitado
10.4. 1 ciclo para transferir el bloque por el bus (VARIABLE).
10.5. 3 ciclos para escribir el bloque en cache. Si el bloque era dirty y no estamos MOESI o en MESS*I en vez de 3 serán 40 ciclos por el BusWB.
11. Una instrucción BusRd donde el dato provenga de la memoria tomará siempre 48 ciclos (suponemos que la memoria siempre está disponible).
12. Los dos casos anteriores serían identicos para la instrucción BusRdX.
13. La instrucción BusUpgr tomará en el mejor caso solo 5 ciclos
13.1. 3 ciclos para escribir en la cache.
13.2. 1 ciclo para transferir la operación por el bus
13.3. 1 ciclo para que las caches actualicen el estado del bloque (VARIABLE)
14. Una instrucción BusWB siempre tomará 45 ciclos
15. En el fichero, al lado del tipo de instrucción pondrá el nº de ciclos extra que se añaden en los pasos variables de las operaciones
15.1. Estos ciclos extras van desde 0 a 4
15.2 El nº de ciclos que se añadirán serán el mínimo de los ciclos extra de las otras caches que no han realizado la operacion.
16. Solo habrán 3 cachés (3 procesadores)










fuentes:
https://www-sciencedirect-com.translate.goog/topics/computer-science/main-memory-access?_x_tr_sl=en&_x_tr_tl=es&_x_tr_hl=es&_x_tr_pto=rq
